### 通信设计

#### 类型包括:

1. __同一__ 服务器的玩家到玩家通信(IPC)。
2. 位于 __不同__ 服务器的玩家玩家通信(RPC)，通过HUB转发消息。
3. 玩家调用某个HUB的功能（用户中心概念, 例如获取排名，分数信息，发起攻击等）。

#### P2P通信策略:   
首先检查玩家是否在本服务器上线， 如果上线，直接投递消息。如果不在线，forward到HUB，
HUB如果发现用户并未在任何一台GameServer上登陆（即:离线），暂存消息至数据库。
上线后，玩家goroutine会发送请求至HUB，获得离线时的消息。  

#### CALL() 的实现：
每一次call对应一个独立的请求号（数据包序列号, atomic.Add), ack的时候根据相应对应请求号，以唤醒某个阻塞的call。    
